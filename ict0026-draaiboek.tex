\documentclass[10pt,a4paper]{report}

\let\Chaptermark\chaptermark
\def\chaptermark#1{\def\Chaptername{#1}\Chaptermark{#1}}
\let\Sectionmark\sectionmark
\def\sectionmark#1{\def\Sectionname{#1}\Sectionmark{#1}}
\let\Subsectionmark\subsectionmark
\def\subsectionmark#1{\def\Subsectionname{#1}\Subsectionmark{#1}}
\let\Subsubsectionmark\subsubsectionmark
\def\subsubsectionmark#1{\def\Subsubsectionname{#1}\Subsubsectionmark{#1}}

\input{ids-parameters}

\usepackage{xparse}
\usepackage{array}
\usepackage{colortbl}


\ExplSyntaxOn
\NewDocumentCommand{\addcolumn}{mm}
 {
  % #1 is the file to read, #2 the list of items to add, separated by \\
  \fabian_addcolumn:nn { #1 } { #2 }
 }

% some variables
\seq_new:N \l__fabian_additions_seq
\tl_new:N \l__fabian_table_body_tl
\tl_new:N \l__fabian_item_tl
\ior_new:N \g_fabian_import_stream

\cs_new_protected:Npn \fabian_addcolumn:nn #1 #2
 {
  % clear the variable containing the table body
  \tl_clear:N \l__fabian_table_body_tl
  % create a sequence from the second argument
  \seq_set_split:Nnn \l__fabian_additions_seq { \\ } { #2 }
  % start reading the file
  \ior_open:Nn \g_fabian_import_stream { #1 }
  % at each line ...
  \ior_map_inline:Nn \g_fabian_import_stream
   {
    % 1. detach the leftmost item from the sequence
    \seq_pop_left:NN \l__fabian_additions_seq \l__fabian_item_tl
    \tl_put_right:NV \l__fabian_table_body_tl \l__fabian_item_tl
    % 2. add the line and a trailing &
    \tl_put_right:Nn \l__fabian_table_body_tl { & ##1 }
    % 4. add the trailing \\
    \tl_put_right:Nn \l__fabian_table_body_tl { \\ \hline }
   }
  % deliver the result
  \tl_use:N \l__fabian_table_body_tl
 }

\ExplSyntaxOff



\usepackage[dutch]{babel}
\usepackage{colortbl}

\usepackage{graphicx}
\DeclareGraphicsExtensions{.pdf,.png,.jpg}

\usepackage{geometry}
\geometry{a4paper,total={170mm,247mm},left=20mm,top=20mm}

% Define header and footer for normal pages
\usepackage{fancyhdr}
\pagestyle{fancyplain}
\pagenumbering{roman}
\lhead{\includegraphics[scale=0.8]{/home/pman/Afbeeldingen/ProrailLogo}}
\rhead{Draaiboek IDS \Dienst \ \DienstVersie \\Versie \DraaiboekVersie\\}
\chead{\makebox[\linewidth]{\rule{\textwidth}{0.4pt}}}
\rfoot{\ \\Pagina \thepage}
\lfoot{\ \\IDS \Dienst \ \DienstVersie \ (\DraaiboekVersie-\DraaiboekStatus), \today \\\Copyright}
\cfoot{\makebox[\linewidth]{\rule{\textwidth}{0.4pt}}}

%% Use no serif font for text, courier for commands
\newcommand*{\myfont}{\fontfamily{lmss}\selectfont}
\newcommand*{\monofont}{\fontfamily{pcr}\selectfont}

\setlength{\parindent}{0pt}

\begin{document}

\myfont

%Title Page
\title{
\includegraphics[scale=0.2]{/home/pman/Afbeeldingen/ProrailKopLogo}
\makebox[\linewidth]{\rule{\textwidth}{0.4pt}}
\vfill
IDS \Dienst \ \DienstVersie \ \DienstOmgeving\\
\ \\
Draaiboek\\
\ \\
DBK
\makebox[\linewidth]{\rule{\textwidth}{0.4pt}}
\vfill
}
\author{ICT Operations}

\maketitle

\ 

\Large{\textbf{Versiebeheer}}
\\

\large
\begin{tabular}{| l | l | l | l |}
\hline
\rowcolor[gray]{0.84}Versie & Datum & Omschrijving & Auteur\\
\hline
\DraaiboekVersie & \today & \DraaiboekOmschrijving & \DraaiboekAuteur \\
\hline
  & & & \\
\hline
\end{tabular}

\ 

\Large{\textbf{Distributielijst}}
\\

\large
\begin{tabular}{| l | l | l | l |}
\hline
\rowcolor[gray]{0.84}Versie & Naam & Functie & Bedrijf\\
\hline
\DraaiboekVersie & Naam & Functie & Bedrijf \\
\hline
  & & & \\
\hline
\end{tabular}
\\

\Large{\textbf{Goedkeuring}}
\\

\large
\begin{tabular}{| l | l |}
\hline
\cellcolor[gray]{0.84}Bedrijf & naam bedrijf\\
\hline
\cellcolor[gray]{0.84}Naam & Naam goedkeurder\\
\hline
\cellcolor[gray]{0.84}Functie & Functie goedkeurder\\
\hline
\cellcolor[gray]{0.84}Paraaf & Paraaf goedkeurder\\
\hline
\cellcolor[gray]{0.84}Datum & Datum goedkeuring\\
\hline
\end{tabular}

\tableofcontents
\newpage
\pagenumbering{arabic}
\chapter{Scope}
\section{Identificatie}
\begin{tabular}{| l | l |}
\hline
\cellcolor[gray]{0.84}Kenmerk & IDS \Dienst \ \DienstVersie\\
\hline
\cellcolor[gray]{0.84}Versie & \DraaiboekVersie\\
\hline
\cellcolor[gray]{0.84}Titel & \Dienst \ \DienstOmgeving\\
\hline
\end{tabular}
\section{Systeemoverzicht}
\noindent Schema + korte uitleg.

\noindent Het doel van dit document is...

\noindent De doelgroep bestaat uit de programmeurs van de SBOB's, de applicatiebeheerders, 
de technisch applicatiebeheerders, en alle anderen binnen ICT-O 
die zich bezighouden met het schrijven van documentatie.
\section{Documentoverzicht}
Hoofdstuk 1 geeft een korte inleiding tot het systeem en de inhoud van dit document.

Hoofdstuk 2 bevat een overzicht van gerefereerde documenten.

Hoofdstuk 3 beschrijft de benodigdheden.

Hoofdstuk 4 beschrijft de uit te voeren werkzaamheden.

Hoofdstuk 5 beschrijft het fallback scenario.

Hoofdstuk 6 bevat het communicatieplan.
\section{Afkortingen en begrippen}
\begin{tabular}{| l | l |}
\hline
\rowcolor[gray]{0.84}Afkorting & Omschrijving\\
\hline
  &  \\
\hline
  &  \\
\hline
\end{tabular}
 \\
 \\
 
\begin{tabular}{| l | l |}
\hline
\rowcolor[gray]{0.84}Begrip & Omschrijving\\
\hline
  &  \\
\hline
  &  \\
\hline
\end{tabular}
\chapter{Referentiedocumenten}
\begin{tabular}{| l | l | l | l |}
\hline
\rowcolor[gray]{0.84}Kenmerk & Versie & Titel & Auteur\\
\hline
\ & \ & \ & \ \\
\hline
\ & \ & \ & \ \\
\hline
\end{tabular}
\chapter{Benodigdheden}
\section{Locatie}
\begin{tabular}{| l | l | l |}
\hline
\rowcolor[gray]{0.84}Server & Omschrijving & Nodenaam\\
\hline
\addcolumn{nodes.txt}{DBNode1\\DBNode2\\AppNode1\\AppNode2\\AppNode3\\AppNode4\\AppNode5\\AppNode6\\AppNode7\\AppNode8\\AppNode9\\AppNode10}
\hline
\end{tabular}


\section{Artikelen}
\begin{tabular}{| l | l | l |}
\hline
\rowcolor[gray]{0.84}Aantal & Artikelnummer & Omschrijving\\
\hline
\ & \ & \ \\
\hline
\ & \ & \ \\
\hline
\end{tabular}
\section{Voorbereiding}
\section{Randvoorwaarden}
\chapter{Werkzaamheden}
\section{Aandachtspunten}
\section{Uitvoering}
\begin{tabular}{| l | l |}
\hline
\rowcolor[gray]{0.84}Stap & Omschrijving\\
\hline
1 & Log in op de node \AppNodeA \ met je beheeraccount \\
\hline
2 & Vraag listing op: \\
\hline
\ & \monofont \$ ls -lia\\
\hline
3 & Vraag de uptime van het systeem op: \\
\hline
\ & \monofont \$ uptime\\
\hline
4 & Log in op de node \AppNodeB \ met je beheeraccount \\
\hline
\end{tabular}
\section{Risico's}
\begin{tabular}{| l | l | l | l | l|}
\hline
\rowcolor[gray]{0.84}Categorie & Risico & Impact & Kans & Maatregelen\\
\hline
\  & \ & \ & \ & \ \\
\hline
\  & \ & \ & \ & \ \\
\hline
\  & \ & \ & \ & \ \\
\hline
\  & \ & \ & \ & \ \\
\hline
\  & \ & \ & \ & \ \\
\hline
\end{tabular}
\section{Planning}
De werkzaamheden vinden plaats op \StartDatum \ tussen \StartTijd \ en \EindTijd.
\section{Go/NoGo}
\chapter{Fallback Scenario}
\section{Voorwaarden}
\section{Uitvoering}
\begin{tabular}{| l | l |}
\hline
\cellcolor[gray]{0.84}Handeling & \ \\
\hline
\cellcolor[gray]{0.84}Omschrijving & \ \\
\hline
\cellcolor[gray]{0.84}Stap 1 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 2 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 3 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 4 & \ \\
\hline
\end{tabular}
\\

\begin{tabular}{| l | l |}
\hline
\cellcolor[gray]{0.84}Handeling & \ \\
\hline
\cellcolor[gray]{0.84}Omschrijving & \ \\
\hline
\cellcolor[gray]{0.84}Stap 1 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 2 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 3 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 4 & \ \\
\hline
\end{tabular}
\\

\begin{tabular}{| l | l |}
\hline
\cellcolor[gray]{0.84}Handeling & \ \\
\hline
\cellcolor[gray]{0.84}Omschrijving & \ \\
\hline
\cellcolor[gray]{0.84}Stap 1 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 2 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 3 & \ \\
\hline
\cellcolor[gray]{0.84}Stap 4 & \ \\
\hline
\end{tabular}

\chapter{Communicatieplan}
\section{Organisatie}
\section{Betrokkenen}
\begin{tabular}{| l | l | l | l | l|}
\hline
\rowcolor[gray]{0.84}Betrokkene & Bedrijf/afdeling & Functie & Telefoon\\
\hline
\  & \ & \ & \ \\
\hline
\  & \ & \ & \ \\
\hline
\  & \ & \ & \ \\
\hline
\  & \ & \ & \ \\
\hline
\  & \ & \ & \ \\
\hline
\end{tabular}

\end{document}
